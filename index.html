<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <title>World of Data</title>
        <link rel="stylesheet" type="text/css" href="stylesheet.css">
    </head>
    <body>
        <div id="container"></div>
        <div id="title">
            World of Data
        </div>
        <div id="selection">
            <ul><button1 onclick='geoFindMe()'>Geolocation</button1></ul>
            <div id = "out"> </div>
            <ul>Facebook</ul>
            <ul>Twitter</ul>
            <ul>Google Plus</ul>
            <ul>Instagram</ul>
        </div>
        
        <script type="text/javascript" src="third-party/Detector.js"></script>
        <script type="text/javascript" src="third-party/three.min.js"></script>
        <script type="text/javascript" src="globe.js"></script>
        <script type="text/javascript" src="geolocation.js"></script>
        <script type="text/javascript">
            
function geoFindMe() {

  var output = document.getElementById("out");

  if (!navigator.geolocation){
    output.innerHTML = "<p>Geolocation is not supported by your browser</p>";
    return;
  }

  function success(position) {
    latitude  = position.coords.latitude;
    longitude = position.coords.longitude;

    output.innerHTML = '<p>Latitude is ' + latitude + '° <br>Longitude is ' + longitude + '°</p>';


  };

  function error() {
    output.innerHTML = "Unable to retrieve your location";
  };

  output.innerHTML = "<p>Locating…</p>";

  navigator.geolocation.getCurrentPosition(success, error);
}

var data = [
  'seriesA', [latitude, longitude, 420]
]
document.getElementById("data").attr("value", data);
            if(!Detector.webgl) {
                Detector.addGetWebGLMessage();
            } else { 
                var container = document.getElementById('container');
                var globe = new DAT.Globe(container);
                for (var i = 0; i < data.length(); i++)
                {
                    globe.addData( data[i][1], 'magnitude', data[i][0] );
                }
                console.log(globe);
                
                //var xhr = new XMLHttpRequest();
                
                globe.animate();
            }
        </script>
        <div id="credits">
        	<ul>Will Tan, Nick Hluska, Joseph Doyle, and Andrew Schembor</ul>
        	<ul>Blueprint 2015</ul>
		</div>
    </body>
</html>
